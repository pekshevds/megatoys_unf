
#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ПрограммныйИнтерфейс

#Область ДляВызоваИзДругихПодсистем

// СтандартныеПодсистемы.ВариантыОтчетов

// Вызывается при работе в модели сервиса для получения сведений о предопределенных вариантах отчета.
//
// Возвращаемое значение:
//  Массив из Структура:
//    * Имя           - Строка - имя варианта отчета; например, "Основной";
//    * Представление - Строка - имя варианта отчета; например, НСтр("ru = 'Динамика изменений файлов'").
//
Функция ВариантыНастроек() Экспорт 
	
	Результат = Новый Массив;
	Результат.Добавить(Новый Структура("Имя, Представление", "Основной", 
		НСтр("ru = 'Стоимостная оценка остатков и движений товаров'")));
	Результат.Добавить(Новый Структура("Имя, Представление", "ОценкаСтоимостиСклада", 
		НСтр("ru = 'Стоимостная оценка склада в ценах номенклатуры'")));
	Результат.Добавить(Новый Структура("Имя, Представление", "ОценкаДвиженийВРозничныхЦенах", 
		НСтр("ru = 'Стоимостная оценка остатков и движений товаров в розничных ценах'")));
	Результат.Добавить(Новый Структура("Имя, Представление", "ОценкаСтоимостиСкладаВРозничныхЦенах", 
		НСтр("ru = 'Стоимостная оценка склада в розничных ценах'")));
	Возврат Результат;
	
КонецФункции

// Параметры:
//   Настройки - см. ВариантыОтчетовПереопределяемый.НастроитьВариантыОтчетов.Настройки.
//   НастройкиОтчета - см. ВариантыОтчетов.ОписаниеОтчета.
//
Процедура НастроитьВариантыОтчета(Настройки, НастройкиОтчета) Экспорт
	
	ВариантыОтчетов.УстановитьРежимВыводаВПанеляхОтчетов(Настройки, НастройкиОтчета, Ложь);
	НастройкиОтчета.ОпределитьНастройкиФормы = Истина;
	
	Вариант = ВариантыОтчетов.ОписаниеВарианта(Настройки, Метаданные.Отчеты.ВедомостьПоТоварамНаСкладахВЦенахНоменклатуры, 
		"Основной");
	Вариант.Описание = НСтр("ru = 'Отчет предназначен для оценки стоимости остатков и движений товаров на складах указанному виду цен.'");
	Вариант.Размещение.Вставить(Метаданные.Подсистемы.Склад.Подсистемы.ТоварыИУслуги, "СмТакже");
	Вариант.Размещение.Вставить(Метаданные.Подсистемы.Закупки.Подсистемы.ТоварыИУслуги, "СмТакже");
	
	Вариант = ВариантыОтчетов.ОписаниеВарианта(Настройки, Метаданные.Отчеты.ВедомостьПоТоварамНаСкладахВЦенахНоменклатуры, 
		"ОценкаСтоимостиСклада");
	Вариант.Описание = НСтр("ru = 'Отчет предназначен для оценки стоимости остатков товаров на складах указанному виду цен.'");
	Для Каждого РазмещениеВПодсистеме Из Вариант.Размещение Цикл
		Вариант.Размещение.Вставить(РазмещениеВПодсистеме.Ключ, "Важный");
	КонецЦикла; 
	
	Вариант = ВариантыОтчетов.ОписаниеВарианта(Настройки, Метаданные.Отчеты.ВедомостьПоТоварамНаСкладахВЦенахНоменклатуры, 
		"ОценкаДвиженийВРозничныхЦенах");
	Вариант.Описание = НСтр("ru = 'Отчет предназначен для оценки стоимости остатков и движений товаров в розничных ценах складов.'");
	Вариант.Размещение.Очистить();
	Вариант.Размещение.Вставить(Метаданные.Подсистемы.Склад.Подсистемы.ТоварыИУслуги, "СмТакже");
	Вариант.ФункциональныеОпции.Добавить("УчетРозничныхПродаж");
	
	Вариант = ВариантыОтчетов.ОписаниеВарианта(Настройки, Метаданные.Отчеты.ВедомостьПоТоварамНаСкладахВЦенахНоменклатуры, 
		"ОценкаСтоимостиСкладаВРозничныхЦенах");
	Вариант.Описание = НСтр("ru = 'Отчет предназначен для оценки стоимости остатков товаров в розничных ценах складов.'");
	Вариант.Размещение.Очистить();
	Вариант.Размещение.Вставить(Метаданные.Подсистемы.Склад.Подсистемы.ТоварыИУслуги);
	Вариант.ФункциональныеОпции.Добавить("УчетРозничныхПродаж");
	
КонецПроцедуры

// Конец СтандартныеПодсистемы.ВариантыОтчетов

#КонецОбласти

#КонецОбласти

#КонецЕсли