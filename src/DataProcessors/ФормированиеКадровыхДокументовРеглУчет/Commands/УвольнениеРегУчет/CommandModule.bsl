
#Область ОбработчикиСобытий

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
	ДанныеЗаполнения = ДанныеДокумента(ПараметрКоманды);
	Если ДанныеЗаполнения.Отказ Тогда
		ОбщегоНазначенияКлиент.СообщитьПользователю(ДанныеЗаполнения.СообщениеПользователю);
	ИначеЕсли ДанныеЗаполнения.Данные.Количество() = 1 Тогда
		ДанныеДокумента = ДанныеЗаполнения.Данные[0];
		ПараметрыФормы = Новый Структура;
		ДанныеДляЗаполнения = ДанныеДокумента;
		ДанныеДляЗаполнения.Вставить("Действие", "ЗаполнитьПоПараметрамЗаполнения");
    	ПараметрыФормы.Вставить("ЗначенияЗаполнения", ДанныеДляЗаполнения);
		ПараметрыФормы.Вставить("ДатаУвольнения", ДанныеДляЗаполнения.ДатаУвольнения);
		ОткрытьФорму("Документ.Увольнение.ФормаОбъекта", ПараметрыФормы, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	ИначеЕсли ДанныеЗаполнения.Данные.Количество() > 0 Тогда
		СписокДокументов = Новый Массив;
		СписокДокументов.Добавить(ПараметрКоманды);
		ПараметрыФормы = Новый Структура("КадровыеДокументыУпрУчет", СписокДокументов);
		ОткрытьФорму("Обработка.ФормированиеКадровыхДокументовРеглУчет.Форма", ПараметрыФормы, ПараметрыВыполненияКоманды.Источник, ПараметрыВыполненияКоманды.Уникальность, ПараметрыВыполненияКоманды.Окно, ПараметрыВыполненияКоманды.НавигационнаяСсылка);
	Иначе
		ОбщегоНазначенияКлиент.СообщитьПользователю(НСтр("ru = 'Не найдено данных для заполнения'"));
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Функция ДанныеДокумента(СписокДокументов)
	Возврат Обработки.ФормированиеКадровыхДокументовРеглУчет.ДанныеДляЗаполненияПоУпрУчету(СписокДокументов);
КонецФункции

#КонецОбласти

