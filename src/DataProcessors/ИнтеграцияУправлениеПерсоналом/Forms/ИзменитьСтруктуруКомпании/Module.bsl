
#Область ОбработчикиСобытийФормы

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	ПубликуемаяСтруктураКомпании = ?(Параметры.ПубликоватьСтруктуруЮридическихЛиц, 0, 1);
	
	УстановитьЗаголовкиПубликуемойСтруктуры();
	ТекстЗаголовка = НСтр("ru = 'Установить структуру Компании в приложении'");
	
	Заголовок = ТекстЗаголовка;
	
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура Изменить(Команда)
	
	Отказ = Ложь;
		
	Результат = Новый Структура("ПубликоватьСтруктуруЮридическихЛиц");
	Результат.ПубликоватьСтруктуруЮридическихЛиц = ?(ПубликуемаяСтруктураКомпании = 0, Истина, Ложь);
	
	Если Не Отказ Тогда
		Закрыть(Результат);
	КонецЕсли;
	
КонецПроцедуры

&НаКлиенте
Процедура Отменить(Команда)
	Закрыть();
КонецПроцедуры

#КонецОбласти

#Область СлужебныеПроцедурыИФункции

&НаСервере
Процедура УстановитьЗаголовкиПубликуемойСтруктуры()

	Если ПубликуемаяСтруктураКомпании = 0 Тогда
		ТекстЗаголовка = НСтр("ru = 'Структура Компании в приложении соответствует Подразделениям организации (структуре юридических лиц), эту настройку можно изменить.'");
	Иначе
		ТекстЗаголовка = НСтр("ru = 'Структура Компании в приложении соответствует Структуре предприятия, эту настройку можно изменить.'");
	КонецЕсли;
	Элементы.ДекорацияПубликуемаяСтруктура.Заголовок = ТекстЗаголовка;
	
	ТекстЗаголовка = НСтр("ru = 'Структура Компании в приложении обновится после очередного обмена, при большом количестве сотрудников обновление может выполняться несколько десятков минут.'");
	Элементы.ДекорацияПояснение.Заголовок = ТекстЗаголовка;

КонецПроцедуры

#КонецОбласти