///////////////////////////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2023, ООО 1С-Софт
// Все права защищены. Эта программа и сопроводительные материалы предоставляются
// в соответствии с условиями лицензии Attribution 4.0 International (CC BY 4.0)
// Текст лицензии доступен по ссылке:
// https://creativecommons.org/licenses/by/4.0/legalcode
///////////////////////////////////////////////////////////////////////////////////////////////////////

#Область ПрограммныйИнтерфейс

// Возвращает HTML на основе простого текста
//
// Параметры:
//  ПростойТекст - Строка
//  ПолныйHTML - Булево - нужны ли теги body, head, html 
// 
// Возвращаемое значение:
//  Строка - HTML
//
Функция HTMLИзПростогоТекста(Знач ПростойТекст, ПолныйHTML = Истина) Экспорт
	
	Результат = "<div>";
	Если ПолныйHTML Тогда
		Результат = СтрШаблон("<html><head></head><body>%1", Результат);
	КонецЕсли;
	
	ДлинаТекста = СтрДлина(ПростойТекст);
	Символ = "";
	Для Индекс = 1 По ДлинаТекста Цикл
		
		Символ = Сред(ПростойТекст, Индекс, 1);
		
		Если Символ = Символы.ПС Тогда
			Если Сред(ПростойТекст, Индекс - 2, 1) = Символы.ПС Или Сред(ПростойТекст, Индекс - 1, 1) = Символы.ПС Тогда
				Результат = СтрШаблон("%1<br></div><div>", Результат);
			Иначе
				Результат = СтрШаблон("%1</div><div>", Результат);
			КонецЕсли;
			
			Продолжить;
		КонецЕсли;
		
		Результат = СтрШаблон("%1%2", Результат, Символ);
		
	КонецЦикла;
	
	Результат = СтрШаблон("%1</div>", Результат);
	Результат = СтрЗаменить(Результат, Символы.ПС, "");
	
	Если ПолныйHTML Тогда
		Результат = СтрШаблон("%1</body></html>", Результат);
	КонецЕсли;
	
	Возврат Результат;
	
КонецФункции

#КонецОбласти